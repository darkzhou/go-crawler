import{j as f,p as r,N as i,c as a,t as n,V as N,O as l,Q as g,q as x,U as s,x as _,S as y,y as p,X as S}from"./index-1ddded62.js";import{_ as V,a as $,T as D}from"./71766cfc.js";import{_ as K}from"./0b6d9653.js";import{_ as R}from"./9e1e6ef2.js";import{_ as U}from"./8025f07a.js";import"./92337dc1.js";const F={key:0,style:{"font-weight":"bold"}},J={key:2},P={key:3},O=p("a",null,"Run",-1),j=p("a",null,"Delete",-1),Q={__name:"TasksView",emits:["router—change"],setup(q){const v=[{title:"Spider",dataIndex:"spider",sorter:(d,e)=>d.spider>e.spider,width:200},{title:"Schedule",dataIndex:"schedule"},{title:"Node",dataIndex:"node"},{title:"Command",dataIndex:"command"},{title:"Status",dataIndex:"status",width:100,filters:[{text:"pending",value:1},{text:"running",value:2},{text:"success",value:3},{text:"error",value:4}],onFilter:(d,e)=>e.last_status===d},{title:"Started",dataIndex:"started",width:150},{title:"Finished",dataIndex:"finished",width:150},{title:"Duration",dataIndex:"duration",width:100},{title:"Records",dataIndex:"records",width:100},{title:"Action",dataIndex:"action",width:200,fixed:"right"}],k=[{id:"1",spider:"John Brown",schedule:"every day",status:"success",command:"go-crawler",node:"localhost",started:"1 hour ago",finished:"1 second ago",duration:"1h",records:100},{id:"2",spider:"Jim Green",schedule:"every day",status:"running",command:"go-crawler",node:"localhost",started:"1 hour ago",finished:"1 second ago",duration:"1h",records:100},{id:"3",spider:"Joe Black",schedule:"every day",status:"error",command:"go-crawler",node:"localhost",started:"1 hour ago",finished:"1 second ago",duration:"1h",records:100}],u=f(!1),w=()=>{u.value=!0},m=f("1");return(d,e)=>{const b=R,h=U,I=K,c=$,C=D,T=V;return r(),i(N,null,[a(I,{columns:v,"data-source":k,scroll:{x:"100%"}},{headerCell:n(({column:t})=>[["id","spider","schedule"].includes(t.dataIndex)?(r(),i("span",F,l(t.title),1)):g("",!0)]),bodyCell:n(({column:t,record:o})=>[t.dataIndex==="spider"?(r(),x(_(y),{key:0,to:"/spiders?name="+o.spider,onClick:e[0]||(e[0]=B=>d.$emit("router—change","3"))},{default:n(()=>[s(l(o.spider),1)]),_:2},1032,["to"])):t.dataIndex==="schedule"?(r(),x(_(y),{key:1,to:"/schedules?schedule="+o.schedule,onClick:e[1]||(e[1]=B=>d.$emit("router—change","4"))},{default:n(()=>[s(l(o.schedule),1)]),_:2},1032,["to"])):t.dataIndex==="status"?(r(),i("span",J,[a(b,{color:o.status==="error"?"volcano":o.status==="running"?"geekblue":"green"},{default:n(()=>[s(l(o.status.toUpperCase()),1)]),_:2},1032,["color"])])):t.dataIndex==="action"?(r(),i("span",P,[O,a(h,{type:"vertical"}),j,a(h,{type:"vertical"}),p("a",{class:"ant-dropdown-link",onClick:w},[s(" More "),a(_(S))])])):g("",!0)]),_:1}),a(T,{open:u.value,"onUpdate:open":e[3]||(e[3]=t=>u.value=t),size:"large",closable:!1},{default:n(()=>[a(C,{activeKey:m.value,"onUpdate:activeKey":e[2]||(e[2]=t=>m.value=t)},{default:n(()=>[a(c,{key:"1",tab:"Tab 1"},{default:n(()=>[s("Content of Tab Pane 1")]),_:1}),a(c,{key:"2",tab:"Tab 2","force-render":""},{default:n(()=>[s("Content of Tab Pane 2")]),_:1}),a(c,{key:"3",tab:"Tab 3"},{default:n(()=>[s("Content of Tab Pane 3")]),_:1})]),_:1},8,["activeKey"])]),_:1},8,["open"])],64)}}};export{Q as default};
