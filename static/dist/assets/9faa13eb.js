import{f,x as r,A as i,k as a,z as n,F as $,B as l,C as g,y,E as s,D as _,G as p,R as x,H as D}from"./index-4b771267.js";import{_ as N,a as R,T as S}from"./9ef3b56d.js";import{_ as V}from"./a9a5de86.js";import{_ as F}from"./cb0a7a19.js";import{_ as K}from"./fa544b21.js";import"./3da183b4.js";const J={key:0,style:{"font-weight":"bold"}},P={key:2},U={key:3},z=p("a",null,"Run",-1),A=p("a",null,"Delete",-1),q={__name:"TasksView",emits:["router—change"],setup(E){const v=[{title:"Spider",dataIndex:"spider",sorter:(d,e)=>d.spider>e.spider,width:200},{title:"Schedule",dataIndex:"schedule"},{title:"Node",dataIndex:"node"},{title:"Command",dataIndex:"command"},{title:"Status",dataIndex:"status",width:100,filters:[{text:"pending",value:1},{text:"running",value:2},{text:"success",value:3},{text:"error",value:4}],onFilter:(d,e)=>e.last_status===d},{title:"Started",dataIndex:"started",width:150},{title:"Finished",dataIndex:"finished",width:150},{title:"Duration",dataIndex:"duration",width:100},{title:"Records",dataIndex:"records",width:100},{title:"Action",dataIndex:"action",width:200,fixed:"right"}],k=[{id:"1",spider:"John Brown",schedule:"every day",status:"success",command:"go-crawler",node:"localhost",started:"1 hour ago",finished:"1 second ago",duration:"1h",records:100},{id:"2",spider:"Jim Green",schedule:"every day",status:"running",command:"go-crawler",node:"localhost",started:"1 hour ago",finished:"1 second ago",duration:"1h",records:100},{id:"3",spider:"Joe Black",schedule:"every day",status:"error",command:"go-crawler",node:"localhost",started:"1 hour ago",finished:"1 second ago",duration:"1h",records:100}],u=f(!1),w=()=>{u.value=!0},m=f("1");return(d,e)=>{const b=F,h=K,I=V,c=R,C=S,T=N;return r(),i($,null,[a(I,{columns:v,"data-source":k},{headerCell:n(({column:t})=>[["id","spider","schedule"].includes(t.dataIndex)?(r(),i("span",J,l(t.title),1)):g("",!0)]),bodyCell:n(({column:t,record:o})=>[t.dataIndex==="spider"?(r(),y(_(x),{key:0,to:"/spiders?name="+o.spider,onClick:e[0]||(e[0]=B=>d.$emit("router—change","3"))},{default:n(()=>[s(l(o.spider),1)]),_:2},1032,["to"])):t.dataIndex==="schedule"?(r(),y(_(x),{key:1,to:"/schedules?schedule="+o.schedule,onClick:e[1]||(e[1]=B=>d.$emit("router—change","4"))},{default:n(()=>[s(l(o.schedule),1)]),_:2},1032,["to"])):t.dataIndex==="status"?(r(),i("span",P,[a(b,{color:o.status==="error"?"volcano":o.status==="running"?"geekblue":"green"},{default:n(()=>[s(l(o.status.toUpperCase()),1)]),_:2},1032,["color"])])):t.dataIndex==="action"?(r(),i("span",U,[z,a(h,{type:"vertical"}),A,a(h,{type:"vertical"}),p("a",{class:"ant-dropdown-link",onClick:w},[s(" More "),a(_(D))])])):g("",!0)]),_:1}),a(T,{open:u.value,"onUpdate:open":e[3]||(e[3]=t=>u.value=t),size:"large",closable:!1},{default:n(()=>[a(C,{activeKey:m.value,"onUpdate:activeKey":e[2]||(e[2]=t=>m.value=t)},{default:n(()=>[a(c,{key:"1",tab:"Tab 1"},{default:n(()=>[s("Content of Tab Pane 1")]),_:1}),a(c,{key:"2",tab:"Tab 2","force-render":""},{default:n(()=>[s("Content of Tab Pane 2")]),_:1}),a(c,{key:"3",tab:"Tab 3"},{default:n(()=>[s("Content of Tab Pane 3")]),_:1})]),_:1},8,["activeKey"])]),_:1},8,["open"])],64)}}};export{q as default};
