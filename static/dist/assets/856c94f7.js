import{j as v,Z as N,p as s,N as l,c as n,t as a,x as i,V as x,O as d,Q as c,U as _,q as y,S as g,y as w,X as R}from"./index-1ddded62.js";import{f as T}from"./33117849.js";import{u as $}from"./00a2cc3f.js";import{_ as B,a as D,T as K}from"./71766cfc.js";import{_ as U}from"./0b6d9653.js";import"./9b87f773.js";import"./92337dc1.js";const M={key:0,style:{"font-weight":"bold"}},O={key:3},j=["onClick"],X={__name:"RecordsView",emits:["router—change"],setup(q){const I=[{title:"Spider",dataIndex:"spider",width:200},{title:"Task",dataIndex:"task_id",width:300},{title:"Meta",dataIndex:"meta"},{title:"Save Time",dataIndex:"save_time",width:200},{title:"Action",dataIndex:"action",width:200,fixed:"right"}],u=$();u.GetRecords();const p=v(!1),m=N({}),h=r=>{p.value=!0,m.data=r.data},k=v("1");return(r,t)=>{const b=U,C=D,S=K,V=B;return s(),l(x,null,[n(b,{columns:I,"data-source":i(u).records,scroll:{x:"100%"}},{headerCell:a(({column:e})=>[["spider"].includes(e.dataIndex)?(s(),l("span",M,d(e.title),1)):c("",!0)]),bodyCell:a(({column:e,record:o})=>[e.dataIndex==="save_time"?(s(),l(x,{key:0},[_(d(i(T)(o.save_time)),1)],64)):c("",!0),e.dataIndex==="spider"?(s(),y(i(g),{key:1,to:"/spiders?name="+o.spider,onClick:t[0]||(t[0]=f=>r.$emit("router—change","3"))},{default:a(()=>[_(d(o.spider),1)]),_:2},1032,["to"])):e.dataIndex==="task_id"?(s(),y(i(g),{key:2,to:"/tasks?id="+o.task_id,onClick:t[1]||(t[1]=f=>r.$emit("router—change","5"))},{default:a(()=>[_(d(o.task_id),1)]),_:2},1032,["to"])):e.dataIndex==="action"?(s(),l("span",O,[w("a",{class:"ant-dropdown-link",onClick:f=>h(o)},[_(" More "),n(i(R))],8,j)])):c("",!0)]),_:1},8,["data-source"]),n(V,{open:p.value,"onUpdate:open":t[3]||(t[3]=e=>p.value=e),size:"large",closable:!1},{default:a(()=>[n(S,{activeKey:k.value,"onUpdate:activeKey":t[2]||(t[2]=e=>k.value=e)},{default:a(()=>[n(C,{key:"1",tab:"Data"},{default:a(()=>[w("pre",null,d(m.data),1)]),_:1})]),_:1},8,["activeKey"])]),_:1},8,["open"])],64)}}};export{X as default};
